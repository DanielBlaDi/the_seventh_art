<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil</title>
    <link rel="stylesheet" href="/css/perfil.css">
</head>

<body>
<div class="app-container">
    <div class="content-wrapper">
        <div class="p-4 max-w-screen-lg mx-auto">

            <!-- Encabezado -->
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h1>Perfil</h1>
                    <p class="text-muted-foreground">Gestiona tu información personal</p>
                </div>

                <form th:action="@{/logout}" method="post">
                    <button type="submit" class="btn-logout" style="background:none;border:none;padding:0;cursor:pointer;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             class="h-4 w-4 mr-2">
                            <path d="m16 17 5-5-5-5"></path>
                            <path d="M21 12H9"></path>
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        </svg>
                        Cerrar Sesión
                    </button>
                </form>
            </div>

            <!-- CARD: Usuario -->
            <div class="card flex flex-col gap-6 rounded-xl border p-6 mb-6">
                <div class="flex items-center gap-4">
                    <div class="bg-indigo-100 rounded-full p-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round" class="icon-svg h-12 w-12 text-indigo-600">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>

                    <div class="flex-1">
                        <h2 th:text="|${perfil.nombre} ${perfil.apellido}|">Nombre Apellido</h2>
                        <p class="text-muted-foreground" th:text="${perfil.usuario.email}">
                            email@ejemplo.com
                        </p>
                    </div>

                    <!-- BOTÓN EDITAR -->
                    <a th:href="@{/perfil/editar}" class="btn inline-flex items-center justify-center border h-9 px-4 py-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"></path>
                        </svg>
                        Editar
                    </a>

                    <!-- BOTÓN REGISTRAR PESO -->
                    <a th:href="@{/profile/peso}"
                       class="btn inline-flex items-center justify-center h-9 px-4 py-2"
                       style="background-color:#5B21B6; color:white; border-radius:6px;">

                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             class="mr-2">
                            <path d="M12 5v14"></path>
                            <path d="M5 12h14"></path>
                        </svg>

                        Registrar peso
                    </a>

                </div>
            </div>

            <!-- CARD: Información Personal -->
            <div class="card flex flex-col gap-6 rounded-xl border p-6 mb-6">
                <h3 class="mb-4">Información Personal</h3>

                <div class="grid-cols-2 gap-4 stats-grid">
                    <div>
                        <p class="text-sm text-muted-foreground">Email</p>
                        <p th:text="${perfil.usuario.email}"></p>
                    </div>

                    <div>
                        <p class="text-sm text-muted-foreground">Edad</p>
                        <p th:text="|${perfil.edad} años|"></p>
                    </div>

                    <div>
                        <p class="text-sm text-muted-foreground">Peso actual</p>
                        <p th:text="${pesoActual != null ? pesoActual + ' kg' : 'Sin registro'}"></p>
                    </div>

                    <div>
                        <p class="text-sm text-muted-foreground">Altura</p>
                        <p th:text="|${perfil.estatura} cm|"></p>
                    </div>
                </div>
            </div>

            <!-- CARD: Objetivos -->
            <div class="card flex flex-col gap-6 rounded-xl border p-6 mb-6">
                <h3 class="mb-4">Objetivos y Actividad</h3>

                <div class="grid-cols-2 gap-4 stats-grid">
                    <div>
                        <p class="text-sm text-muted-foreground">Objetivo</p>
                        <p th:text="${perfil.objetivo}"></p>
                    </div>

                    <div>
                        <p class="text-sm text-muted-foreground">Racha deseada</p>
                        <p th:text="|${perfil.rachaDeseada} días|"></p>
                    </div>
                </div>
            </div>

            <!-- CARD: Estadísticas -->
            <div class="card flex flex-col gap-6 rounded-xl border p-6 mb-6">
                <h3 class="mb-4">Estadísticas Totales</h3>

                <div class="stats-grid">
                    <div>
                        <p class="text-sm text-muted-foreground">Rutinas completadas</p>
                        <p>0</p>
                    </div>

                    <div>
                        <p class="text-sm text-muted-foreground">Horas entrenadas</p>
                        <p>0 hrs</p>
                    </div>

                    <div>
                        <p class="text-sm text-muted-foreground">Calorías quemadas</p>
                        <p>0 kcal</p>
                    </div>

                    <div>
                        <p class="text-sm text-muted-foreground">Racha actual</p>
                        <p>0 días</p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- FOOTER -->
    <nav class="fixed-nav">

        <!-- INICIO -->
        <a href="/principal_home" class="nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                 fill="none" stroke="currentColor" stroke-width="2"
                 stroke-linecap="round" stroke-linejoin="round" class="icon-svg h-6 w-6">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            Inicio
        </a>

        <!-- MIS RUTINAS -->
        <a href="/rutinas" class="nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                 fill="none" stroke="currentColor" stroke-width="2"
                 stroke-linecap="round" stroke-linejoin="round" class="icon-svg">
                <path d="M13 5h8"></path>
                <path d="M13 12h8"></path>
                <path d="M13 19h8"></path>
                <path d="m3 17 2 2 4-4"></path>
                <path d="m3 7 2 2 4-4"></path>
            </svg>
            Mis rutinas
        </a>

        <!-- PERFIL -->
        <a href="/perfil" class="nav-item active">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                 fill="none" stroke="currentColor" stroke-width="2"
                 stroke-linecap="round" stroke-linejoin="round" class="icon-svg">
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            Perfil
        </a>

    </nav>

</div>
</body>
</html>
